// transform, cmdline "--cf"

CASM ConstantFoldingPass

init foo

rule foo = 
{
    if @bar != @baz then
       assert true
    
    if @bar = @baz then
       assert false
    
    if @bar = @bar then
       assert true
    
    if @baz != @baz then
       assert false

    if @bar = undef then
       assert false

    if @baz != undef then
       assert true
    
    program(self) := undef
}

rule bar = skip

rule baz = skip
