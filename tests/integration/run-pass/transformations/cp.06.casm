CASM const_prop

init exec

function _z : -> Int

function bool : -> Boolean

enum alpha = {A, B, C}

rule exec =
{|
    _z := 10

    bool := true    
    assert bool = true

    print "hallo " + A

    print "hallo " + A

    bool := true
    assert bool = true

    print "hallo " + B

    program(self) := @foo

    bool := false
    assert bool = false
    bool := true
    assert bool = true

    let x = 20 in
    {
        print 123

        print 0x123

        print 123
        
        program(self) := @foo
        
        print 0x123

        print 0x123
    
        print x
    }

    print B
    
    program(self) := @foo
    
    bool := false
    assert bool = false

    print "hallo " + "hallo "
    
    program(self) := undef
|}

rule func(x : Int, y : Int) =
{
    print x + y
}

rule foo =
{
    debuginfo bar "bar "
}
